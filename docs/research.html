<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Georgios Manalis - Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
h3 {
color: Sienna;
}
</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Georgios Manalis</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./research.html" rel="" target="" aria-current="page">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./policywork.html" rel="" target="">
 <span class="menu-text">Policy work</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#working-papers" id="toc-working-papers" class="nav-link active" data-scroll-target="#working-papers">Working papers</a>
  <ul class="collapse">
  <li><a href="#mutual-insurance-and-land-security-in-rural-ghana" id="toc-mutual-insurance-and-land-security-in-rural-ghana" class="nav-link" data-scroll-target="#mutual-insurance-and-land-security-in-rural-ghana">Mutual insurance and land security in rural Ghana</a></li>
  <li><a href="#land-rights-and-risk-sharing-in-rural-west-africa" id="toc-land-rights-and-risk-sharing-in-rural-west-africa" class="nav-link" data-scroll-target="#land-rights-and-risk-sharing-in-rural-west-africa">Land rights and risk-sharing in rural West Africa</a></li>
  <li><a href="#trust-dynamics-in-electoral-competition" id="toc-trust-dynamics-in-electoral-competition" class="nav-link" data-scroll-target="#trust-dynamics-in-electoral-competition">Trust dynamics in electoral competition</a></li>
  <li><a href="#contagion-as-a-dealmaker-the-effect-of-financial-spillovers-on-regional-lending-programs" id="toc-contagion-as-a-dealmaker-the-effect-of-financial-spillovers-on-regional-lending-programs" class="nav-link" data-scroll-target="#contagion-as-a-dealmaker-the-effect-of-financial-spillovers-on-regional-lending-programs">Contagion as a dealmaker? The effect of financial spillovers on regional lending programs</a></li>
  </ul></li>
  <li><a href="#work-in-progress" id="toc-work-in-progress" class="nav-link" data-scroll-target="#work-in-progress">Work in progress</a>
  <ul class="collapse">
  <li><a href="#local-trade-and-mutual-insurance" id="toc-local-trade-and-mutual-insurance" class="nav-link" data-scroll-target="#local-trade-and-mutual-insurance">Local trade and mutual insurance</a></li>
  </ul></li>
  <li><a href="#publications" id="toc-publications" class="nav-link" data-scroll-target="#publications">Publications</a>
  <ul class="collapse">
  <li><a href="#bandwagons-in-costly-elections-the-role-of-loss-aversion" id="toc-bandwagons-in-costly-elections-the-role-of-loss-aversion" class="nav-link" data-scroll-target="#bandwagons-in-costly-elections-the-role-of-loss-aversion">Bandwagons in costly elections: the role of loss aversion</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Research</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="working-papers" class="level2">
<h2 class="anchored" data-anchor-id="working-papers">Working papers</h2>
<section id="mutual-insurance-and-land-security-in-rural-ghana" class="level3">
<h3 class="anchored" data-anchor-id="mutual-insurance-and-land-security-in-rural-ghana">Mutual insurance and land security in rural Ghana</h3>
<p>(with <a href="https://sites.google.com/site/mazurecon/home" target="_blank">K. Mazur</a>) - (revised draft coming soon)</p>
<p><a href="https://drive.google.com/drive/folders/1w_90aI0Dxvu0ZSuHEjiwjNSzSdnYiR9x?usp=drive_link" target="_blank">Draft</a>, <a href="https://drive.google.com/file/d/1Z2kE4AfDMeUClJzVAG1O7CibM9Ja9oAv/view" target="_blank">Slides</a></p>
<p>We study the impact of land rights’ formalization on the functioning of informal insurance and land re-allocations in Ghana’s rural communities. First, we provide empirical evidence suggesting that communities holding more formal land titles enjoy higher land security, as measured by number of disputes due to multiple claims over land. Second, we find that land re-allocations are more intense in those places, leading to increases in agricultural productivity and level of average consumption. Third, we show that communities with higher formality of land rights enjoy improved risk-sharing against idiosyncratic shocks. Motivated by this evidence, we develop a dynamic model of land and risk sharing subject to limited commitment constraints, where the equilibrium degree of co-operation is determined by the degree of formal land rights chosen. We show that the model can rationalize our empirical findings and can serve as a useful quantitative laboratory. Most interestingly, we find that although positive in the data, the effects of increasing land rights may be highly non-linear as at some point they may lead to a complete unraveling of informal co-operation in rural economies.</p>
<p><strong>Presented</strong>: Departmental seminar - University of Cyprus (2020); STEG - CEPR annual conference (2021); Departmental seminar - University of Macedonia (2021); Asian Meeting of the Econometric Society in China (2022); SIOE - Toronto (2022); EEA - ESEM, Milan (2022); RES - SES, Glasgow (2023); AFES, Nairobi (2023); SED, Cartagena (2023); AFES, Abidjan (2024); 5th Mannheim Workshop in Quantitative Macroeconomics (2024).</p>
</section>
<section id="land-rights-and-risk-sharing-in-rural-west-africa" class="level3">
<h3 class="anchored" data-anchor-id="land-rights-and-risk-sharing-in-rural-west-africa">Land rights and risk-sharing in rural West Africa</h3>
<p>(revised draft coming soon)</p>
<p>Despite arduous efforts of advancing land rights in Africa, most of the continent experiences low levels of ownership security. Land reforms introduced by the state have failed to deliver the desired results of officially recognized property. I propose a novel contextualization of land rights that motivates a theoretical model to account for land reforms’ effects when implemented in weak institutional environments with high risk. In environments such as rural Africa, communities have developed informal mechanisms of risk-sharing to provide households with a safety net. Therefore, when a land reform, aiming at granting individual property rights, takes place, it operates in a highly antagonistic way to the established informal insurance mechanisms. I use survey data from a land reform initiated in Burkina Faso in 2009 to evince the interaction between land holdings and transfers among community members. Subsequently, I build a model of risk-sharing with limited commitment to explain the competing forces developed between statutory land reforms and customary risk-sharing networks at a community level. The model shows that a land reform increases the share of surplus that a villager can extract from a risk-sharing contract among community members and decreases the size of the pie available to the community. Additionally, it shows a non-monotonic relation between land allocation and productivity pointing towards a trade-off between output efficiency and size of risk-sharing. It accurately accounts for the low participation rates from rural population to the Burkina Faso land reform and it provides a reasoning for potential land misallocation.</p>
<p><strong>Presented</strong>: Giorgio Rota Conference 2019 (University of Turin); Belgrade Young Economists Conference (BYEC 2019); Warsaw International Economic Meeting (WIEM 2019); ASSET 2019 Conference; IEWG (EUI); EERN 2020 Conference (University of Orléans); GLAD 2020 Conference (University of Göttingen); Conference on Research on Economic Theory and Econometrics - CRETE 2021.</p>
<p><strong>Awarded</strong>: 7th Giorgio Rota Best Paper Award; Best paper at Warsaw International Economic Meeting 2019; Shortlisted for LAGV Prize (ASSET 2019).</p>
</section>
<section id="trust-dynamics-in-electoral-competition" class="level3">
<h3 class="anchored" data-anchor-id="trust-dynamics-in-electoral-competition">Trust dynamics in electoral competition</h3>
<p>(with <a href="https://sites.google.com/view/nektaria-glynia/home" target="_blank">N. Glynia</a> and <a href="https://sites.google.com/site/dxefteris/" target="_blank">D. Xefteris</a>) - (R&amp;R - European Economic Review)</p>
<p><a href="https://eur02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fpapers.ssrn.com%2Fsol3%2Fpapers.cfm%3Fabstract_id%3D4794513&amp;data=05%7C02%7C%7C3712b8a422a2424d315a08dc5d3320ac%7C2e9f06b016694589878910a06934dc61%7C0%7C0%7C638487721369926695%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C0%7C%7C%7C&amp;sdata=gWk%2BZe03reReXKaSk3k3HqSDBZCB4h7NK8RMhSwCieM%3D&amp;reserved=0" target="_blank">Link to SSRN article</a>, <a href="https://github.com/GManalis/Trust_Dynamics_in_Electoral_Competition.git" target="_blank">Replication code</a></p>
<p>We study the dynamics of trust in an electoral competition model without commitment à la Banks (1990). Each politician can deliver a certain type of policies and may engage in costly deception of the voters in order to enjoy electoral gains. When the voters’ trust in politicians is higher than a given threshold, then dynamics lead to a steady state in which politicians lie to a moderate extent and voters’ partially and accurately discount electoral promises. However, when a shock drives voters’ trust in politicians below the threshold, then the steady-state level of intermediate confidence cannot be restored: politicians always lie more than expected and, gradually, trust in politicians collapses completely. The analysis highlights that while stable levels of trust are feasible, they should not be taken for granted, and provides a rationale for the recent crises in several European political systems.</p>
</section>
<section id="contagion-as-a-dealmaker-the-effect-of-financial-spillovers-on-regional-lending-programs" class="level3">
<h3 class="anchored" data-anchor-id="contagion-as-a-dealmaker-the-effect-of-financial-spillovers-on-regional-lending-programs">Contagion as a dealmaker? The effect of financial spillovers on regional lending programs</h3>
<p>(with A. I. Bonk and <a href="https://sites.google.com/site/alexandrafotiou/home" target="_blank">A. Fotiou</a>)</p>
<p><a href="https://github.com/GManalis/Trust_Dynamics_in_Electoral_Competition.git" target="_blank">IMF Working Papers, Vol 2022: Issue 133</a></p>
<p>The recent European sovereign debt crisis highlighted the critical role of regional lending arrangements. For the first time, European mechanisms were called to design financing programs for member countries in trouble. This paper analyses how the risk of contagion, an essential characteristic of interlinked economies, shapes borrowing conditions. We focus on the role of spillovers as a channel of bargaining power that a country might have when asking for financial support from regional lending institutions. We build and present a new database that records both the dates on which official meetings took place, relevant statements were released and the timing of the announcements regarding loan disbursements. This database allows us to assess the defining role that announcements of future actions have in mitigating spillover costs. In addition, we study the design of lending arrangements within a recursive contract between a lender and a sovereign country. When accounting for spillover costs, arising from the borrower to the creditor, we find that it is in the lender’s best interest to back-load consumption by giving more weight to future transfers in order to reduce contagion cost. Subsequently, we test and validate our theoretical predictions by assessing the effect of spillovers on loan disbursements to program-countries and by juxtaposing lending conditions imposed by the IMF and the European mechanisms.</p>
<p><strong>Presented</strong>: Conference on Research on Economic Theory and Econometrics - CRETE 2019.</p>
</section>
</section>
<section id="work-in-progress" class="level2">
<h2 class="anchored" data-anchor-id="work-in-progress">Work in progress</h2>
<section id="local-trade-and-mutual-insurance" class="level3">
<h3 class="anchored" data-anchor-id="local-trade-and-mutual-insurance">Local trade and mutual insurance</h3>
<p>Opening to trade may pose challenges for small, open economies with weak risk-insurance mechanisms. Trade liberalization often leads to specialization in the production structure, a key outcome of classical trade theory. This specialization exposes economies to external fluctuations, resulting in increased earnings volatility. Consequently, economies with incomplete insurance markets potentially experience reduced welfare. This issue is particularly prominent in the context of small rural village economies in the developing world due to two primary factors: (i) the absence of formal risk-insurance mechanisms and (ii) the inherent volatility of agricultural output. In response to these challenges, rural village economies have developed informal practices of mutual insurance, such as gift-giving and production sharing, to achieve a degree of consumption smoothing. This project aims to quantitatively assess the interaction between the allocative effects of opening to trade with the distributional effects of informal mutual insurance mechanisms for rural populations in low-income countries engaged in local trade.</p>
<p><strong>Presented</strong>: SES, Glasgow (2024); AFES, Abidjan (2024).</p>
</section>
</section>
<section id="publications" class="level2">
<h2 class="anchored" data-anchor-id="publications">Publications</h2>
<section id="bandwagons-in-costly-elections-the-role-of-loss-aversion" class="level3">
<h3 class="anchored" data-anchor-id="bandwagons-in-costly-elections-the-role-of-loss-aversion">Bandwagons in costly elections: the role of loss aversion</h3>
<p>(with <a href="https://sites.google.com/view/anastasialeontiou" target="_blank">A. Leontiou</a> and <a href="https://sites.google.com/site/dxefteris/" target="_blank">D. Xefteris</a>) - 2023 in Journal of Economic Behavior &amp; Organization</p>
<p><a href="https://www.sciencedirect.com/science/article/pii/S016726812300077X?via%3Dihub" target="_blank">Link to journal article</a>, <a href="https://github.com/GManalis/Bandwagons_in_Costly_Elections.git" target="_blank">Replication code</a></p>
<p>The formal study of voluntary elections with costly participation predicts that the supporters of the underdog - i.e., of the candidate that is expected to lose - are less likely to abstain than the supporters of the expected winner (Palfrey and Rosenthal, 1985; Herrera et al., 2014). While some empirical/experimental studies identify this underdog effect (Levine and Palfrey, 2007), in others bandwagons emerge: the supporters of the expected winner are found to abstain less often than the supporters of the underdog (Agranov et al., 2018). We focus on large elections and follow Köszegi and Rabin (2006) by considering that voters experience gains and losses with respect to their expected equilibrium payoffs. When the election is sufficiently close (i.e., when the shares of the supporters of the two alternatives are not too asymmetric), we find that bandwagons emerge in every equilibrium. To our knowledge, this is the first formal study that explains bandwagons in large elections, by incorporating a commonly accepted behavioural model in an otherwise standard context of costly voting.</p>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>